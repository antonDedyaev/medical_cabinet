(function(){"use strict";var t={3374:function(t,r,a){var o=a(9242),e=a(3396);const n={class:"mainWrapper"},s={class:"mainWrapper__content"};function i(t,r,a,o,i,l){const u=(0,e.up)("TopNavbar"),c=(0,e.up)("AuthorizationForm"),d=(0,e.up)("ModalWindow"),p=(0,e.up)("router-view");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(u,{onOpenModal:t.showModal,onSetAuth:t.setAuth,"is-auth":t.auth,"onUpdate:isAuth":r[0]||(r[0]=r=>t.auth=r)},null,8,["onOpenModal","onSetAuth","is-auth"]),(0,e._)("div",n,[(0,e.Wm)(d,{show:t.modalVisible,"onUpdate:show":r[1]||(r[1]=r=>t.modalVisible=r)},{default:(0,e.w5)((()=>[(0,e.Wm)(c,{onCloseModal:t.hideModal,onSetAuth:t.setAuth},null,8,["onCloseModal","onSetAuth"])])),_:1},8,["show"]),(0,e._)("div",s,[(0,e.Wm)(p,{onSetAuth:t.setAuth},null,8,["onSetAuth"])])])],64)}a(7658);var l=a(7139),u=a.p+"img/logo.37e52a03.svg";const c={class:"navbarWrapper"},d={class:"navbarWrapper__menu"},p=(0,e._)("img",{class:"navbarWrapper__logo",src:u,alt:"Main logo"},null,-1);function h(t,r,a,o,n,s){return(0,e.wg)(),(0,e.iD)("div",c,[(0,e._)("div",d,[p,(0,e._)("div",{class:"navbarWrapper__contacts",onClick:r[0]||(r[0]=r=>t.$router.push("/contacts"))}," Контакты "),(0,e._)("button",{class:"navbarWrapper__loginButton",onClick:r[1]||(r[1]=r=>t.isAuth?t.logout():t.showModal())},(0,l.zw)(t.isAuth?"Выйти":"Войти"),1)])])}var m=(0,e.aZ)({name:"TopNavbar",props:{isAuth:{type:Boolean,default:!1}},data(){return{modalVisible:!1}},methods:{showModal(){this.$emit("openModal")},logout(){this.$router.push("/"),localStorage.removeItem("currentUser")}}}),_=a(89);const v=(0,_.Z)(m,[["render",h]]);var g=v;function f(t,r,a,n,s,i){return t.show?((0,e.wg)(),(0,e.iD)("div",{key:0,class:"modalWrapper",onClick:r[1]||(r[1]=(...r)=>t.hideModal&&t.hideModal(...r))},[(0,e._)("div",{class:"modalWrapper__content",onClick:r[0]||(r[0]=(0,o.iM)((()=>{}),["stop"]))},[(0,e.WI)(t.$slots,"default",{},void 0,!0)])])):(0,e.kq)("",!0)}var A=(0,e.aZ)({name:"ModalWindow",props:{show:{type:Boolean,default:!1}},methods:{hideModal(){this.$emit("update:show",!1)}}});const w=(0,_.Z)(A,[["render",f],["__scopeId","data-v-0b8b3624"]]);var b=w;const W=t=>((0,e.dD)("data-v-600cda93"),t=t(),(0,e.Cn)(),t),M={class:"formWrapper"},C={key:0,class:"formWrapper__authHeader"},k={key:1},y={class:"formWrapper__content",action:""},E={class:"formWrapper__input"},D=W((()=>(0,e._)("label",{for:"login-input"},"Логин *",-1))),I=["value"],S={class:"formWrapper__input"},O=W((()=>(0,e._)("label",{for:"password-input"},"Пароль *",-1))),U=["value"];function Z(t,r,a,n,s,i){return(0,e.wg)(),(0,e.iD)("div",M,[0!==t.authError.length?((0,e.wg)(),(0,e.iD)("h2",C,(0,l.zw)(t.authError),1)):((0,e.wg)(),(0,e.iD)("h2",k,"Войти в личный кабинет")),(0,e._)("form",y,[(0,e._)("div",E,[D,(0,e._)("input",{type:"text",id:"login-input",value:t.login,onInput:r[0]||(r[0]=r=>t.login=r.target.value)},null,40,I),(0,e._)("span",{class:(0,l.C_)(["formWrapper__errorMessage",{formWrapper__errorMessage_active:0!==t.loginError.length}])},(0,l.zw)(t.loginError),3)]),(0,e._)("div",S,[O,(0,e._)("input",{type:"text",id:"password-input",value:t.password,onInput:r[1]||(r[1]=r=>t.password=r.target.value)},null,40,U),(0,e._)("span",{class:(0,l.C_)(["formWrapper__errorMessage",{formWrapper__errorMessage_active:0!==t.passwordError.length}])},(0,l.zw)(t.passwordError),3)]),(0,e._)("button",{class:"formWrapper__button",onClick:r[2]||(r[2]=(0,o.iM)(((...r)=>t.validateForm&&t.validateForm(...r)),["prevent"]))}," Войти ")])])}var x=JSON.parse('{"r":[{"id":1,"name":"Иван","login":"vano","password":"ivan23doc"},{"id":2,"name":"Настя","login":"stasya","password":"n3v3r4g3t"},{"id":3,"name":"Роман","login":"romka","password":"!12345#?"}]}'),B=(0,e.aZ)({name:"AuthorizationForm",data(){return{login:"",password:"",loginError:"",passwordError:"",authError:""}},methods:{validateLogin(){this.loginError=0===this.login.length?"Введите логин!":""},validatePassword(){this.passwordError=this.password.length<8?"Длина пароля должна быть не меньше 8 символов!":""},validateForm(){if(this.validateLogin(),this.validatePassword(),0===this.loginError.length&&0===this.passwordError.length){const t=x.r,r=t.find((t=>t.login===this.login&&t.password===this.password));r?(localStorage.setItem("currentUser",JSON.stringify(r)),this.$router.push("/account"),this.$emit("closeModal")):this.authError="Неверный логин или пароль"}}}});const $=(0,_.Z)(B,[["render",Z],["__scopeId","data-v-600cda93"]]);var z=$,V=(0,e.aZ)({components:{TopNavbar:g,ModalWindow:b,AuthorizationForm:z},data(){return{modalVisible:!1,isAuthorized:!1,auth:!1}},methods:{showModal(){this.modalVisible=!0},hideModal(){this.modalVisible=!1},setAuth(t){console.log(t),this.auth=t}}});const F=(0,_.Z)(V,[["render",i]]);var j=F,P=a(2483);const N=t=>((0,e.dD)("data-v-2afd10a6"),t=t(),(0,e.Cn)(),t),T={class:"mainWrapper__content mainWrapper__content_top"},Y=N((()=>(0,e._)("h1",null,"Место для получения медицинской помощи",-1))),Q={class:"mainWrapper__buttons"},q={class:"mainWrapper__content mainWrapper__content_bottom"};function H(t,r,a,o,n,s){const i=(0,e.up)("MainButton"),l=(0,e.up)("AuthorizationForm"),u=(0,e.up)("ModalWindow"),c=(0,e.up)("MenuCard");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",T,[Y,(0,e._)("div",Q,[(0,e.Wm)(i,{onClick:t.showModal},{default:(0,e.w5)((()=>[(0,e.Uk)("Войти")])),_:1},8,["onClick"]),(0,e.Wm)(i,{class:"buttonWrapper_white",onClick:r[0]||(r[0]=r=>t.$router.push("/contacts"))},{default:(0,e.w5)((()=>[(0,e.Uk)("Контакты")])),_:1})]),(0,e.Wm)(u,{show:t.modalVisible,"onUpdate:show":r[1]||(r[1]=r=>t.modalVisible=r)},{default:(0,e.w5)((()=>[(0,e.Wm)(l)])),_:1},8,["show"])]),(0,e._)("div",q,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.menuItems,(t=>((0,e.wg)(),(0,e.j4)(c,{class:"mainWrapper__card",cardData:t,key:t.id},null,8,["cardData"])))),128))])],64)}var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAACCAYAAAAaRY8cAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAcSURBVHgB3cABAQAAAAEgLPP/iBn8EGMXB4QTA8LsAmoMpGkPAAAAAElFTkSuQmCC";const R={class:"cardWrapper"},X=["src"],G={class:"cardWrapper__title"},J=(0,e._)("img",{src:L,alt:"Solid horizontal line"},null,-1),K={class:"cardWrapper__text"};function tt(t,r,a,o,n,s){return(0,e.wg)(),(0,e.iD)("div",R,[(0,e._)("img",{src:t.cardData.image,alt:"Card icon",class:"cardWrapper__image"},null,8,X),(0,e._)("span",G,(0,l.zw)(t.cardData.title),1),J,(0,e._)("p",K,(0,l.zw)(t.cardData.text),1)])}var rt=(0,e.aZ)({name:"MenuCard",props:{cardData:{type:Object,required:!0}}});const at=(0,_.Z)(rt,[["render",tt]]);var ot=at;const et={class:"buttonWrapper"};function nt(t,r,a,o,n,s){return(0,e.wg)(),(0,e.iD)("button",et,[(0,e.WI)(t.$slots,"default",{},void 0,!0)])}var st={};const it=(0,_.Z)(st,[["render",nt],["__scopeId","data-v-bc3775ac"]]);var lt=it,ut=(0,e.aZ)({components:{MenuCard:ot,MainButton:lt,ModalWindow:b,AuthorizationForm:z},emits:["setAuth"],data(){return{menuItems:[{id:1,title:"Онлайн-прием",image:a(7730),text:"Рыба текст"},{id:2,title:"Экстренный Случай",image:a(3226),text:"Рыба текст"},{id:3,title:"Лечение рака",image:a(5353),text:"Рыба текст"}],modalVisible:!1}},methods:{showModal(){this.modalVisible=!0}},mounted(){localStorage.removeItem("currentUser"),this.$emit("setAuth",!1)}});const ct=(0,_.Z)(ut,[["render",H],["__scopeId","data-v-2afd10a6"]]);var dt=ct;const pt={class:"contactsWrapper"},ht=(0,e._)("h1",{class:"contactsWrapper__header"},"Контакты",-1),mt=[ht];function _t(t,r,a,o,n,s){return(0,e.wg)(),(0,e.iD)("div",pt,mt)}var vt=(0,e.aZ)({emits:["setAuth"],mounted(){this.$emit("setAuth",!!localStorage.getItem("currentUser"))}});const gt=(0,_.Z)(vt,[["render",_t]]);var ft=gt;const At={class:"accountWrapper"},wt={class:"accountWrapper__controls"},bt={class:"accountWrapper__buttons"};function Wt(t,r,a,o,n,s){const i=(0,e.up)("MainButton");return(0,e.wg)(),(0,e.iD)("div",At,[(0,e._)("div",wt,[(0,e._)("h1",null,"Привет, "+(0,l.zw)(t.username),1),(0,e._)("div",bt,[(0,e.Wm)(i,{onClick:t.logout},{default:(0,e.w5)((()=>[(0,e.Uk)("Выйти из аккаунта")])),_:1},8,["onClick"]),(0,e.Wm)(i,{class:"buttonWrapper_white",onClick:r[0]||(r[0]=r=>t.$router.push("/contacts"))},{default:(0,e.w5)((()=>[(0,e.Uk)("Перейти в контакты")])),_:1})])])])}var Mt=(0,e.aZ)({components:{MainButton:lt},emits:["setAuth"],data(){return{username:""}},methods:{logout(){this.$router.push("/"),localStorage.removeItem("currentUser"),this.$emit("setAuth",!1)}},mounted(){const t=localStorage.getItem("currentUser");t&&(this.username=JSON.parse(t).name),this.$emit("setAuth",!0)}});const Ct=(0,_.Z)(Mt,[["render",Wt],["__scopeId","data-v-253cd68f"]]);var kt=Ct;const yt=[{path:"/",name:"home",component:dt},{path:"/account",name:"account",meta:{requiresAuth:!0},component:kt},{path:"/contacts",name:"contacts",component:ft}],Et=(0,P.p7)({history:(0,P.PO)("/medical_cabinet/"),routes:yt});Et.beforeEach(((t,r,a)=>{if(t.matched.some((t=>t.meta.requiresAuth))){const r=localStorage.getItem("currentUser");r||a({path:"/",query:{redirect:t.fullPath}})}a()}));var Dt=Et;(0,o.ri)(j).use(Dt).mount("#app")},7730:function(t,r,a){t.exports=a.p+"img/heart.54aba79b.svg"},5353:function(t,r,a){t.exports=a.p+"img/med-history.57cdbef0.svg"},3226:function(t,r,a){t.exports=a.p+"img/stethoscope.0cec7c8b.svg"}},r={};function a(o){var e=r[o];if(void 0!==e)return e.exports;var n=r[o]={exports:{}};return t[o].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(r,o,e,n){if(!o){var s=1/0;for(c=0;c<t.length;c++){o=t[c][0],e=t[c][1],n=t[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||s>=n)&&Object.keys(a.O).every((function(t){return a.O[t](o[l])}))?o.splice(l--,1):(i=!1,n<s&&(s=n));if(i){t.splice(c--,1);var u=e();void 0!==u&&(r=u)}}return r}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[o,e,n]}}(),function(){a.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(r,{a:r}),r}}(),function(){a.d=function(t,r){for(var o in r)a.o(r,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(r){return 0===t[r]};var r=function(r,o){var e,n,s=o[0],i=o[1],l=o[2],u=0;if(s.some((function(r){return 0!==t[r]}))){for(e in i)a.o(i,e)&&(a.m[e]=i[e]);if(l)var c=l(a)}for(r&&r(o);u<s.length;u++)n=s[u],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},o=self["webpackChunkmedical_cabinet"]=self["webpackChunkmedical_cabinet"]||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(3374)}));o=a.O(o)})();
//# sourceMappingURL=app.439cfd6f.js.map